# üöÄ –î–µ–ø–ª–æ–π VITA-Edu –Ω–∞ Railway

## –í–∞—Ä—ñ–∞–Ω—Ç 1: –ü–æ–≤–Ω–∏–π —Å—Ç–µ–∫ –Ω–∞ Railway (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É Railway
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://railway.app/
2. –£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ GitHub (–≤–∞—à –∞–∫–∞—É–Ω—Ç: Serospapay)
3. –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π trial: $5 credit/–º—ñ—Å—è—Ü—å

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ Railway
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Project"**
2. –û–±–µ—Ä—ñ—Ç—å **"Deploy from GitHub repo"**
3. –í–∏–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: **Serospapay/VITA_EDU**
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞–π–¥–µ `railway.json` —ñ –Ω–∞–ª–∞—à—Ç—É—î –¥–µ–ø–ª–æ–π

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:** –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—É:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—É (‚öôÔ∏è Settings)
2. –ó–Ω–∞–π–¥—ñ—Ç—å **"Root Directory"** 
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å: **`backend`**
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏

–¶–µ –≤–∫–∞–∂–µ Railway —â–æ –ø—Ä–æ–µ–∫—Ç –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–ø—Ü—ñ `backend/`, –∞ –Ω–µ –≤ –∫–æ—Ä–µ–Ω—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è PostgreSQL –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
1. –£ –ø—Ä–æ–µ–∫—Ç—ñ Railway –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New"** ‚Üí **"Database"** ‚Üí **"Add PostgreSQL"**
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö
3. –°–∫–æ–ø—ñ—é–π—Ç–µ `DATABASE_URL` –∑ –≤–∫–ª–∞–¥–∫–∏ "Variables"

### –ö—Ä–æ–∫ 4: –î–æ–¥–∞–≤–∞–Ω–Ω—è Redis (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
1. –£ –ø—Ä–æ–µ–∫—Ç—ñ Railway –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New"** ‚Üí **"Database"** ‚Üí **"Add Redis"**
2. –°–∫–æ–ø—ñ—é–π—Ç–µ `REDIS_URL` –∑ –≤–∫–ª–∞–¥–∫–∏ "Variables"

### –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è
–£ –≤–∞—à–æ–º—É Backend —Å–µ—Ä–≤—ñ—Å—ñ Railway, –≤–∫–ª–∞–¥–∫–∞ **"Variables"**, –¥–æ–¥–∞–π—Ç–µ:

```env
NODE_ENV=production
PORT=5000
HOST=0.0.0.0

# DATABASE_URL –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞–Ω–æ Railway –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ PostgreSQL
# –Ø–∫—â–æ –Ω—ñ - —Å–∫–æ–ø—ñ—é–π—Ç–µ –∑ –≤–∫–ª–∞–¥–∫–∏ PostgreSQL

# REDIS_URL –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞–Ω–æ Railway –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ Redis
# –Ø–∫—â–æ –Ω—ñ - —Å–∫–æ–ø—ñ—é–π—Ç–µ –∑ –≤–∫–ª–∞–¥–∫–∏ Redis

JWT_SECRET=your_super_secret_jwt_key_min_32_characters_long_change_this
JWT_REFRESH_SECRET=your_super_secret_refresh_token_key_min_32_characters_long_change_this
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

CORS_ORIGIN=https://your-frontend-domain.vercel.app,https://vita-edu-frontend.railway.app
# –û–Ω–æ–≤—ñ—Ç—å –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é frontend

FRONTEND_URL=https://your-frontend-domain.vercel.app
# –û–Ω–æ–≤—ñ—Ç—å –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é frontend

SERVER_URL=https://your-backend.railway.app
# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–¥–∞—Å—Ç—å URL, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: https://vita-edu-production.up.railway.app

# –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
REDIS_URL=redis://default:password@redis:6379
# –°–∫–æ–ø—ñ—é–π—Ç–µ –∑ Railway Redis —Å–µ—Ä–≤—ñ—Å—É
```

### –ö—Ä–æ–∫ 6: –î–µ–ø–ª–æ–π Backend
Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –ó–±—É–¥—É—î –ø—Ä–æ–µ–∫—Ç (`npm run build`)
- –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (`npm start`)
- –ù–∞–¥–∞—Å—Ç—å –ø—É–±–ª—ñ—á–Ω–∏–π URL (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://vita-edu-backend.up.railway.app`)

### –ö—Ä–æ–∫ 7: –í–∏–∫–æ–Ω–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π Prisma
–ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –¥–µ–ø–ª–æ—é, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó:

1. –£ Railway Backend —Å–µ—Ä–≤—ñ—Å—ñ ‚Üí **"Deployments"** ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–µ–ø–ª–æ–π
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"View Logs"** ‚Üí –∫–Ω–æ–ø–∫–∞ **"Run Command"**
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ:
```bash
cd backend
npx prisma migrate deploy
npx prisma generate
npx ts-node prisma/seed-full.ts
```

–ê–±–æ –¥–æ–¥–∞–π—Ç–µ –≤ `railway.json`:
```json
{
  "deploy": {
    "startCommand": "cd backend && npx prisma migrate deploy && npx prisma generate && npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

### –ö—Ä–æ–∫ 8: –î–µ–ø–ª–æ–π Frontend –Ω–∞ Vercel (–®–≤–∏–¥–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç)

#### 8.1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ Frontend
1. –°—Ç–≤–æ—Ä—ñ—Ç—å `frontend/.env.production`:
```env
VITE_API_URL=https://your-backend.railway.app/api
VITE_WS_URL=wss://your-backend.railway.app
```

2. –ó–±–µ—Ä—ñ—Ç—å frontend:
```bash
cd frontend
npm run build
```

#### 8.2. –î–µ–ø–ª–æ–π –Ω–∞ Vercel
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://vercel.com/
2. –£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ GitHub
3. **"Add New Project"** ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π VITA_EDU
4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
   - **Root Directory**: `frontend`
   - **Build Command**: `npm run build`
   - **Output Directory**: `dist`
   - **Install Command**: `npm install`
5. Environment Variables:
   - `VITE_API_URL` = `https://your-backend.railway.app/api`
   - `VITE_WS_URL` = `wss://your-backend.railway.app`
6. Deploy!

---

## –í–∞—Ä—ñ–∞–Ω—Ç 2: –í—Å–µ –Ω–∞ Railway (–ü—Ä–æ—Å—Ç—ñ—à–µ, –∞–ª–µ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ –¥–ª—è frontend)

### –î–æ–¥–∞–≤–∞–Ω–Ω—è Static Site –¥–ª—è Frontend –Ω–∞ Railway
1. –£ Railway –ø—Ä–æ–µ–∫—Ç—ñ ‚Üí **"New"** ‚Üí **"Static Site"**
2. Root Directory: `frontend`
3. Build Command: `npm install && npm run build`
4. Output Directory: `dist`
5. Railway –Ω–∞–¥–∞—Å—Ç—å URL –¥–ª—è frontend

---

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ

### Backend API
- Swagger Docs: `https://your-backend.railway.app/api-docs`
- Health Check: `https://your-backend.railway.app/api/health`

### Frontend
- –ì–æ–ª–æ–≤–Ω–∞: `https://your-frontend.vercel.app`

### –¢–µ—Å—Ç–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏
```
Admin:   admin@vitaedu.com / password123
Teacher: dmytro.koval@vitaedu.com / password123
Student: ivan.petrenko@student.vitaedu.com / password123
```

---

## –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–µ–ø–ª–æ—é

–ó–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—è—Ç—å—Å—è –ø—Ä–∏ push –≤ GitHub –Ω–∞ –≥—ñ–ª–∫—É `main`.

–ê–±–æ –≤—Ä—É—á–Ω—É:
```bash
git push origin main
```

---

## –í–∞—Ä—Ç—ñ—Å—Ç—å

- **Railway**: –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π trial $5/–º—ñ—Å (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –¥–µ–º–æ)
- **Vercel**: –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Å–∞–π—Ç—ñ–≤
- **–ó–∞–≥–∞–ª–æ–º**: **$0 –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó** üéâ

---

## Troubleshooting

### ‚ùå –ü–æ–º–∏–ª–∫–∞: "npm: command not found" –ø—Ä–∏ –∑–±—ñ—Ä—Ü—ñ
**–ü—Ä–æ–±–ª–µ–º–∞:** Railway –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑—ñ–±—Ä–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç –∑ –∫–æ—Ä–µ–Ω—è, –∞ –Ω–µ –∑ –ø–∞–ø–∫–∏ `backend/`

**–†—ñ—à–µ–Ω–Ω—è:**
1. –£ Railway ‚Üí –≤–∞—à Backend —Å–µ—Ä–≤—ñ—Å ‚Üí ‚öôÔ∏è **Settings**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **"Root Directory"**
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è: **`backend`**
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–µ–ø–ª–æ–π

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ñ–∞–π–ª `nixpacks.toml` (–≤–∂–µ –¥–æ–¥–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç) - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î.

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ Railway
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `DATABASE_URL` –≤ Variables
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ **Root Directory** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ `backend`
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ `railway.json` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

### –ü–æ–º–∏–ª–∫–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
1. –í–∏–∫–æ–Ω–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó: `npx prisma migrate deploy`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL –≤ Railway
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤ Variables

### Frontend –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ Backend
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `VITE_API_URL` –≤ Vercel Environment Variables
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `CORS_ORIGIN` –≤ Railway Backend Variables
3. –î–ª—è WebSocket –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `wss://` (secure WebSocket)
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ Backend —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î: `https://your-backend.railway.app/api-docs`

---

## –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è production

1. **–î–æ–¥–∞–π—Ç–µ –¥–æ–º–µ–Ω** (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ):
   - Railway: Settings ‚Üí Custom Domain
   - Vercel: Settings ‚Üí Domains

2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ SSL** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ):
   - Railway: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π HTTPS
   - Vercel: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π HTTPS

3. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**:
   - Railway –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
   - –î–æ–¥–∞–π—Ç–µ Sentry –¥–ª—è error tracking (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

---

**–ì–æ—Ç–æ–≤–æ! –í–∞—à –ø—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–π –æ–Ω–ª–∞–π–Ω –∑ –ø–æ–≤–Ω–∏–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º! üöÄ**

