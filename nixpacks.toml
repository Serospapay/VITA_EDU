# Nixpacks configuration for Railway
# Railway will auto-detect Node.js, but we specify build commands

[phases.install]
cmds = [
  "cd backend",
  "npm ci"
]

[phases.build]
cmds = [
  "cd backend",
  "npm run build",
  "npx prisma generate"
]

[start]
cmd = "cd backend && npx prisma migrate deploy && npm start"

